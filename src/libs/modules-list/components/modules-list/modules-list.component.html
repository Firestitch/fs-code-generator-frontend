<ng-container *ngIf="!!modules">
  <fs-autocomplete
    [fetch]="fetch"
    [fetchOnFocus]="true"
    [ngModel]="module"
    [displayWith]="displayWith"
    placeholder="Module"
    (ngModelChange)="selectModule($event)"
    [required]="true"
    name="model">
    <ng-template fsAutocompleteTemplate let-data="data">
      <span [matTooltip]="data | moduleListItem">{{ data | moduleListItem }}</span>
    </ng-template>

    <ng-container *ngIf="showCreateButton">
      <ng-template fsAutocompleteStaticTemplate>
        <span (click)="openDialog()">Create Module</span>
      </ng-template>
    </ng-container>
  </fs-autocomplete>
</ng-container>
<div *ngIf="loading">Loading modules...
  <div class="spinner">
    <mat-spinner [diameter]="13"></mat-spinner>
  </div>
</div>
